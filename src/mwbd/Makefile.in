srcdir = @srcdir@
VPATH = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@

CC = @CC@
INSTALL = @INSTALL@

INCLUDES = -I../include  
LIBS =  -L../lib  -L../liburlencode -lMidWay -lurlencode

CFLAGS = @CFLAGS@ $(INCLUDES) 

all: requester testgw mwbd

requester: requester.o 
	$(CC) -o $@ requester.o $(LIBS)

mwbd: mwbd.o mwbd_sockets.o  
	$(CC) -o $@  mwbd.o  mwbd_sockets.o $(LIBS)

testgw: testgw.o ../mwgwd/broker.o
	$(CC) -o $@ testgw.o ../mwgwd/broker.o  $(LIBS)

clean: 
	rm -f  testgw requester mwbd *.o

distclean:
	rm -f Makefile *~

install: 
	$(INSTALL) mwbd @sbindir@/mwbd

uninstall:
	rm -f @sbindir@/mwbd

tags:
	etags -a -o ../TAGS *.c *.h

depend:
	makedepend -- $(CFLAGS) -- *.c

